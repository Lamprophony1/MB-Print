// Copyright 2015 Makerbot Industries

#ifndef INCLUDE_MESHUTILS_MESH_ERROR_H_
#define INCLUDE_MESHUTILS_MESH_ERROR_H_

#include <stdexcept>
#include <string>

namespace LibThing {

struct MESHUTILS_API MeshError : public std::runtime_error {
  enum Type {
    // Triangle has an invalid vertex index or handle
    kInvalidVertexIndex,
    // Unexplained/unrecoverable OpenMesh failures
    kOpenMeshError,
    // Mesh has a rotation matrix with degeneracies
    kInvalidRotation
  };

  explicit MeshError(const Type p_type);

  ~MeshError() throw();

  /// Get an ASCII representation of the IOError
  ///
  /// The format will be "LibThing::IOError(typeString())"
  std::string formattedString() const;

  /// Get an ASCII representation of the type
  ///
  /// E.g. kInvalidVertexIndex will return "kInvalidVertexIndex". This
  /// is intended for logging, not user-facing messages.
  const char *typeString() const;

  const Type type;
};

}  // end namespace LibThing

#endif  // INCLUDE_MESHUTILS_MESH_ERROR_H_
