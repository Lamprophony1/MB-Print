//  THIS FILE IS DEPRECATED!  Please use bot_error_noqt.hh instead.
//  This exists because we planned to use Qt's tr() for translation, but that never happened.

#ifndef ERROR_QSTRINGS_TRANSLATEABLE_HH
#define ERROR_QSTRINGS_TRANSLATEABLE_HH

#include <string>
#if QT_VERSION < QT_VERSION_CHECK(5, 0, 0)
  #include <QString>
  #include <QCoreApplication>
#else
  #include <QtCore/QString>
#endif

#include "bwcoreutils/all_errors.hh"

namespace bwcoreutils {

/*
 * This class takes an error code integer and provides details for UI
 * error handling, including Qt translatable strings.
 * Requires Qt and C++11
 */
class BotError {
    Q_DECLARE_TR_FUNCTIONS(BotError)
public:
    typedef std::vector<std::string> MESSAGE_ARGS;
    enum TYPE {
        NONE = 0,
        TOOL_ERROR = 1,
        FILAMENT_ERROR = 2,
        GENERAL_ERROR = 3,
        ZPAUSE = 4,
        SAD_BOT = 5,
        CHAMBER_ERROR = 6,
    };

    enum ACTION {
        ACKNOWLEDGE = 0,
        CHANGE_FILAMENT = 1,
        PREHEAT_TIMEOUT = 2,
        ZPAUSED = 3,
        UNLOAD_FILAMENT = 4,
        ATTACH_TOOL = 5,
        CALIBRATE_Z = 6,
        ACKNOWLEDGE_OR_CONTINUE = 7,
    };

    explicit BotError(Error errorCode) :
        m_type(static_cast<TYPE>(0)),
        m_action(static_cast<ACTION>(0)),
        m_error(errorCode),
        m_messageArgs() {
        init();
    }

    // TODO(ted): Ideally we would do this with constructor delegation, like:
    // explicit BotError(int errorCode) : BotError(static_cast<Error>(errorCode)) {}
    // but MSVC 11 (2012) doesn't support that feature of c++11, so we'll have to
    // update this when we switch to a newer MSVC
    explicit BotError(int errorCode) :
        m_type(static_cast<TYPE>(0)),
        m_action(static_cast<ACTION>(0)),
        m_error(static_cast<Error>(errorCode)),
        m_messageArgs() {
        init();
    }

    explicit BotError(const BotError& other) :
        m_message(other.m_message),
        m_type(other.m_type),
        m_action(other.m_action),
        m_title(other.m_title),
        m_error(other.m_error),
        m_messageArgs(other.m_messageArgs)
    {
    }

    // TODO(jacksonh): support custom error messages for toolhead-specific errors
    // BotError(Error errorCode, int toolhead_index, ToolheadType toolhead_type) {}

    ~BotError() {}

    QString message() const {
        return m_message;
    }

    // Used to determine what thumbnail to display to the user
    TYPE type() const {
        return m_type;
    }

    ACTION action() const {
        return m_action;
    }

    QString title() const {
        return m_title;
    }

    Error error() const {
        return m_error;
    }

    MESSAGE_ARGS messageArgs() const {
        return m_messageArgs;
    }

private:


    enum ErrorBases {
        TOOL_PROBLEM,
        TOOL_CRITICAL,
        HOMING_PROBLEM,
        HOMING_PROBLEM_STUCK,
        PRINT_FILE_ERROR,
        FW_FUNDAMENTALLY_BROKEN,
        KAITEN_ERROR,
        CHAMBER_PROBLEM,
        MISC_ERROR,
        FILAMENT_BAY_ERROR,
    };

    struct ErrorDefaults {

        ErrorDefaults(const QString& title, const QString& message, TYPE type, ACTION action) :
        title(title),
        message(message),
        type(type),
        action(action) {}
	ErrorDefaults() {}
        ~ErrorDefaults() {}


        QString title;
        QString message;
        TYPE type;
        ACTION action;

    };

    static ErrorDefaults get_base_defaults(ErrorBases b) {
        switch (b) {
            case TOOL_PROBLEM:
              return ErrorDefaults(tr("Extruder Error"), tr("Oops, we have a problem with your Smart Extruder (Error %d: %s). Please disconnect and reconnect your Smart Extruder."), TOOL_ERROR, ACKNOWLEDGE);
            case TOOL_CRITICAL:
              return ErrorDefaults(tr("Extruder Error"), tr("Oops, we have a problem with your Smart Extruder (Error %d: %s). Please visit our Support page at Makerbot.com/support."), TOOL_ERROR, ACKNOWLEDGE);
            case HOMING_PROBLEM:
              return ErrorDefaults(tr("Homing Error"), tr("Homing failed (Error %d: %s). Please try again."), NONE, ACKNOWLEDGE);
            case HOMING_PROBLEM_STUCK:
              return ErrorDefaults(tr("Homing Error"), tr("Homing failed (Error %d: %s). Your extruder nozzle may be stuck. Please try again."), NONE, ACKNOWLEDGE);
            case PRINT_FILE_ERROR:
              return ErrorDefaults(tr("Print Error"), tr("Invalid print file (Error %d: %s). Please try to prepare again in MakerBot Desktop."), NONE, ACKNOWLEDGE);
            case FW_FUNDAMENTALLY_BROKEN:
              return ErrorDefaults(tr("System Error"), tr("Oops, we have a problem (Error %d: %s). Please update your firmware using MakerBot Desktop."), NONE, ACKNOWLEDGE);
            case KAITEN_ERROR:
              return ErrorDefaults(tr("System Error"), tr("Oops, we have a problem (Error %d: %s)."), NONE, ACKNOWLEDGE);
            case CHAMBER_PROBLEM:
              return ErrorDefaults(tr("Chamber Error"), tr("There is a problem with your chamber heater (Error %d: %s). Please visit our Support page at Makerbot.com/support."), NONE, ACKNOWLEDGE);
            case MISC_ERROR:
              return ErrorDefaults(tr("System Error"), tr("Oops, we have a problem (Error %d: %s)."), NONE, ACKNOWLEDGE);
            case FILAMENT_BAY_ERROR:
              return ErrorDefaults(tr("Filament Bay Error"), tr("Oops, we have a problem (Error %d: %s)."), NONE, ACKNOWLEDGE);
        }
	return ErrorDefaults();
    }

    void init() {
	ErrorDefaults d;
    QString dummy;
        switch(m_error) {
            case kThermocoupleOutOfRange:
                d = get_base_defaults(TOOL_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Thermocouple Out Of Range")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kThermocoupleUnplugged:
                d = get_base_defaults(TOOL_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Thermocouple Unplugged")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kThermocoupleTooHot:
                d = get_base_defaults(TOOL_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Thermocouple Too Hot")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kThermocoupleDataUnchanging:
                d = get_base_defaults(TOOL_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Thermocouple Data Not Changing")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kThermocoupleDataInvalid:
                d = get_base_defaults(TOOL_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Thermocouple Data Invalid")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterShort:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Short")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kFilamentFanShort:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Filament Fan Short")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kFilamentFanOpen:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Filament Fan Open")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterTemperatureOverrunTriggered:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Temperature Overrun Triggered")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolShort:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Short")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kUnsupportedTool:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Unsupported Tool")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolFanShort:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Fan Short")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterTemperatureSagTriggered:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Temperature Sag Triggered")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolFanOpen:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Fan Open")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterRiseWatchdogTriggered:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Rise Watchdog Triggered")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kWatchdogTriggered:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Watchdog Triggered")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kMotorOverCurrent:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Motor Over Current")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadCommunicationError:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Communication Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadTimedOut:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Timed Out")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kCommandTooLong:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Command Too Long")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolChecksumFail:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Checksum Fail")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolReadError:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Read Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolOpen:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Open")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromChecksumFailure:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Checksum Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNotConnected:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Not Connected")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kMismatchApiVersion:
                d = get_base_defaults(FW_FUNDAMENTALLY_BROKEN);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Mismatch Api Version")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kChamberHeaterFailure:
                d = get_base_defaults(CHAMBER_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Chamber Heater Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kChamberFanFailure:
                d = get_base_defaults(CHAMBER_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Chamber Fan Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kChamberHeaterDisconnected:
                d = get_base_defaults(CHAMBER_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Chamber Heater Disconnected")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kChamberThermistorDisconnected:
                d = get_base_defaults(CHAMBER_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Chamber Thermistor Disconnected")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterOverTemp:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Over Temp")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kChamberTemperatureOverrun:
                d = get_base_defaults(CHAMBER_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Chamber Temperature Overrun")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kI2CCommError:
                d = get_base_defaults(CHAMBER_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("I2C Communication Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHesLogFull:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("HES Log Full")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidToolIndex:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Tool Index")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kMalformedPacket:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Malformed Packet")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolBufferFull:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Buffer Full")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadBufferFull:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Buffer Full")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterOpen:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Open")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDrawerNoFilament:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Drawer Out Of Filament")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidResponse:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Response")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromSlaveMissedValue:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Slave Missed Value")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromFatalInternalError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Fatal Internal Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidEncoderResolution:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Encoder Resolution")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromStartFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Start Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromOutOfDate:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Out Of Date")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNone:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("None")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kThermocoupleAdcBusy:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Thermocouple Adc Busy")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromUnknownVersion:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Unknown Version")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromIdVerifyFail:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom Id Verify Fail")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kCommandIndexMismatch:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Command Index Mismatch")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromNoSlaveAck:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Eeprom No Slave Ack")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kAcPowerDisconnected:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("AC Power Disconnected")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kBusy:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Busy")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEmptyEepromCache:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Empty EEPROM Cache")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromWriteFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("EEPROM Write Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromVerifyFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("EEPROM Verify Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kProgramNotStarted:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Program Not Started")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kProgramCompleted:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Program Completed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kSeriousInternalError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Serious Internal Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNfcScanFailure:
                d = get_base_defaults(FILAMENT_BAY_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("NFC Scan Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNfcReadFailure:
                d = get_base_defaults(FILAMENT_BAY_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("NFC Read Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNfcWriteFailure:
                d = get_base_defaults(FILAMENT_BAY_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("NFC Write Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNfcUidMismatch:
                d = get_base_defaults(FILAMENT_BAY_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("NFC UID Mismatch")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kThermocoupleCommunicationFailure:
                m_title = tr("Extruder Error");
                m_message = dummy.sprintf(qPrintable(tr("Your Smart Extruder has been disconnected (Error %d). Please remove and reattach the Smart Extruder.")), static_cast<int>(m_error), "");
                m_type = TOOL_ERROR;
                m_action = ACKNOWLEDGE;
                break;
            case kUnusualStallCondition:
                m_title = tr("Stall Condition Detected");
                m_message = dummy.sprintf(qPrintable(tr("An unusual print error has occurred. To protect your extruder, the print was cancelled. Try the print again and this error will most likely not reoccur.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kNoFilament:
                m_title = tr("Out of Filament");
                m_message = dummy.sprintf(qPrintable(tr("This process requires filament to proceed. (Warning %d)")), static_cast<int>(m_error), "");
                m_type = FILAMENT_ERROR;
                m_action = CHANGE_FILAMENT;
                break;
            case kDoorInterlockTriggered:
                m_title = tr("Chamber Open");
                m_message = dummy.sprintf(qPrintable(tr("The heated build chamber is open (Warning %d). Please close the door to continue.")), static_cast<int>(m_error), "");
                m_type = CHAMBER_ERROR;
                m_action = ACKNOWLEDGE;
                break;
            case kLidInterlockTriggered:
                m_title = tr("Top Lid Open");
                m_message = dummy.sprintf(qPrintable(tr("The top lid is open (Warning %d). Please close the lid to continue.")), static_cast<int>(m_error), "");
                m_type = CHAMBER_ERROR;
                m_action = ACKNOWLEDGE;
                break;
            case kHeaterHoldWatchdogTriggered:
                m_title = tr("Extruder Cooling");
                m_message = dummy.sprintf(qPrintable(tr("Your extruder cools down if the printer stays idle for a few minutes.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kFilamentSlip:
                m_title = tr("Filament Jam");
                m_message = dummy.sprintf(qPrintable(tr("Your filament seems to be jammed (Error %d). Please unload your remaining filament, and then reload it to continue printing.")), static_cast<int>(m_error), "");
                m_type = FILAMENT_ERROR;
                m_action = CHANGE_FILAMENT;
                break;
            case kNoToolConnected:
                m_title = tr("Extruder Error");
                m_message = dummy.sprintf(qPrintable(tr("Your Smart Extruder is not connected (Error %d). Please reconnect your Smart Extruder.")), static_cast<int>(m_error), "");
                m_type = TOOL_ERROR;
                m_action = ATTACH_TOOL;
                break;
            case kBadToolConnected:
                m_title = tr("Extruder Error");
                m_message = dummy.sprintf(qPrintable(tr("Oops, we have a problem with your Smart Extruder (Error %d). Please detach and reattach your Smart Extruder.")), static_cast<int>(m_error), "");
                m_type = TOOL_ERROR;
                m_action = ACKNOWLEDGE;
                break;
            case kChamberNotConnected:
                m_title = tr("Chamber Heater Disconnect");
                m_message = dummy.sprintf(qPrintable(tr("The build chamber heater controller is disconnected (Error %d). Please visit our Support page at Makerbot.com/support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kCarriageNotConnected:
                m_title = tr("Carriage Disconnected");
                m_message = dummy.sprintf(qPrintable(tr("The extruder carriage is disconnected from the machine (Error %d). Please visit our Support page at Makerbot.com/support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kToolheadNoResponse:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead No Response")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadMalformedPacket:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Malformed Packet")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadMismatchApiVersion:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Mismatch Api Version")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kCouldNotSendToolheadCommand:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Could Not Send Toolhead Command")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadNotInitialized:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Not Initialized")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadFeederSleepInterrupted:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Feeder Sleep Interrupted")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kEepromUpdateFailed:
                d = get_base_defaults(TOOL_CRITICAL);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Smart Extruder Update Failed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHomingNotCompleted:
                d = get_base_defaults(HOMING_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Homing Not Completed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHesNoContact:
                d = get_base_defaults(HOMING_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Hes made no contact")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kUnknownHomingMethod:
                d = get_base_defaults(HOMING_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Unknown Homing Method")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNoHesLog:
                d = get_base_defaults(HOMING_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("No Hes Log")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHomingTimedOut:
                d = get_base_defaults(HOMING_PROBLEM);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Homing Timed Out")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHesRebaseFailed:
                d = get_base_defaults(HOMING_PROBLEM_STUCK);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Hes Rebase Failed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHesLogOverflow:
                d = get_base_defaults(HOMING_PROBLEM_STUCK);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Hes Log Overflow")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kBadHesWaveforms:
                d = get_base_defaults(HOMING_PROBLEM_STUCK);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Bad Hes Waveforms")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNoValidHesSlope:
                d = get_base_defaults(HOMING_PROBLEM_STUCK);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("No Valid Hes Slope")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kJsonToolpathNothingParsed:
                d = get_base_defaults(PRINT_FILE_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Json Toolpath Nothing Parsed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kJsonToolpathParseError:
                d = get_base_defaults(PRINT_FILE_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Json Toolpath Parse Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kBadPrintFile:
                d = get_base_defaults(PRINT_FILE_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Print File Corrupt")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDefaultConfigNotFound:
                d = get_base_defaults(FW_FUNDAMENTALLY_BROKEN);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Default Config Not Found")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDefaultConfigMissingValue:
                d = get_base_defaults(FW_FUNDAMENTALLY_BROKEN);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Default Config Missing Value")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidEepromFilepath:
                d = get_base_defaults(FW_FUNDAMENTALLY_BROKEN);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Eeprom Filepath")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDefaultConfigParseFailure:
                d = get_base_defaults(FW_FUNDAMENTALLY_BROKEN);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Default Config Parse Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kCriticalKaitenError:
                d = get_base_defaults(KAITEN_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Critical System Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kKaitenError:
                d = get_base_defaults(KAITEN_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("System Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kPruInitializationFailed:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Pru Initialization Failed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kUserConfigMissingValue:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("User Config Missing Value")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeatZeroTemperature:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heat Zero Temperature")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kSuspendNoValidLastMove:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Suspend No Valid Last Move")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNoMacAddressSet:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("No Mac Address Set")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterAddFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Add Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kKnobNotTightened:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Knob Not Tightened")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidActiveToolSetting:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Active Tool Setting")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kUnsupportedEepromVersion:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Upload candidate EEPROM map is unsupported by the current tool")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadSpiConfigError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Spi Config Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHeaterNotHeating:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Heater Not Heating")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolheadCommandTxFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Toolhead Command Tx Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kStopIteration:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Stop Iteration")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidFileType:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid File Type")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kUserConfigParseFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("User Config Parse Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNoToolheadsDetected:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("No Toolheads Detected")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kCorruptedFirmwareFile:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Corrupted Firmware File")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kZPauseValueNotFound:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Z Pause Value Not Found")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDiagnosticsTestFailed:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Diagnostics Test Failed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidAccelerationBufferSize:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Acceleration Buffer Size")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kUserConfigNotFound:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("User Config Not Found")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kFileAlreadyOpen:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("File Already Open")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kBufferFull:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Buffer Full")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kExtrusionDistanceMissing:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Extrusion Distance Missing")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kParseMore:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Parse More")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidToolRequested:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Tool Requested")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kBadToolCountConfig:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Bad Tool Count Config")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kResumeComplete:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Resume Complete")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kSuspendIndexNotFound:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Suspend Index Not Found")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kPowerMonitorAdcFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Power Monitor ADC Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDiagnosticsUnknownStateError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Diagnostics Unknown State Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidAxis:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Axis")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kOk:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Ok")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidFanDuty:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Fan Duty")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kTopBunkFanFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Top Bunk Fan Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kDiagnostisUknownTestError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Diagnostis Uknown Test Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidHeaterIndex:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Heater Index")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidProgramPath:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Program Path")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolProgramFailed:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Tool Program Failed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kZeroLengthMove:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Zero Length Move")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kFileTransferTimeout:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("File Transfer Timeout")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kMachineDriverClosed:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Machine Driver Closed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNotImplemented:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Not Implemented")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNotReady:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Not Ready")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kRemoteFull:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Remote Full")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kLocalEmpty:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Local Buffer Empty")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kKeepCalling:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Keep Calling")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kMachineDriverFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Machine Driver Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInvalidEndstopType:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Invalid Endstop Type")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kFileNotFound:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("File Not Found")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kInterfaceLedCommsError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Interface Led Comms Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kPowerMonitorI2CFailure:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Power Monitor I2C Failure")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kJsonConfigKeyError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Configuration Key Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kJsonConfigValueError:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Configuration Value Error")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kHesReversed:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Hes Magnet Reversed")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kLogHesTimedOut:
                d = get_base_defaults(MISC_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Log HES Data Timed Out")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kAssistMotorOverTemp:
                d = get_base_defaults(FILAMENT_BAY_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("Assist Motor is Over Temperature and has timed out.")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kNoNfcTagsFound:
                d = get_base_defaults(FILAMENT_BAY_ERROR);
                m_title = d.title;
                m_message = dummy.sprintf(qPrintable(d.message), static_cast<int>(m_error), qPrintable(tr("No NFC Tags Found")));
                m_type = d.type;
                m_action = d.action;
                break;
            case kToolNotCalibrated:
                m_title = tr("Run Calibration");
                m_message = dummy.sprintf(qPrintable(tr("Please run Homing Calibration before printing with this Smart Extruder")), static_cast<int>(m_error), "");
                m_type = TOOL_ERROR;
                m_action = CALIBRATE_Z;
                break;
            case kNoBuildPlate:
                m_title = tr("No Build Plate");
                m_message = dummy.sprintf(qPrintable(tr("Please ensure your build plate is properly attached (Warning %d).")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kCarriageProgramFailure:
                m_title = tr("Carriage Program Failed");
                m_message = dummy.sprintf(qPrintable(tr("The extruder carriage cannot be programmed (Error %d). Please visit our Support page at Makerbot.com/support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kNoHesChange:
                m_title = tr("Homing Error");
                m_message = dummy.sprintf(qPrintable(tr("Homing failed (Error %d). Your Smart Extruder is not communicating. Please try again.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kBothSidesTooHigh:
                m_title = tr("Leveling Error");
                m_message = dummy.sprintf(qPrintable(tr("Leveling failed (Error %d). Your extruder nozzle may be stuck. Please try again.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kLevelingWithFilament:
                m_title = tr("Clear Filament");
                m_message = dummy.sprintf(qPrintable(tr("Please remove filament from the Smart Extruder before proceeding (Warning %d).")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = UNLOAD_FILAMENT;
                break;
            case kPrintToolConnectFailed:
                m_title = tr("Extruder Error");
                m_message = dummy.sprintf(qPrintable(tr("Smart Extruder Connect Failed (Error %d).  Please disconnect your Smart Extruder and try again.")), static_cast<int>(m_error), "");
                m_type = TOOL_ERROR;
                m_action = ACKNOWLEDGE;
                break;
            case kChamberProgramFailure:
                m_title = tr("Chamber Program Failed");
                m_message = dummy.sprintf(qPrintable(tr("The build chamber heater controller cannot be programmed (Error %d). Please visit our Support page at Makerbot.com/support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kZPause:
                m_title = tr("Print Paused");
                m_message = dummy.sprintf(qPrintable(tr("Paused your print. (TODO-This probably shouldn't be an error? #checkoutmysushitho %d)")), static_cast<int>(m_error), "");
                m_type = ZPAUSE;
                m_action = ZPAUSED;
                break;
            case kMoveCommandOutsideAxisBounds:
                m_title = tr("File Error");
                m_message = dummy.sprintf(qPrintable(tr("Error %d: Please make sure that your .makerbot file is prepared for the correct printer type.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kToolheadNotHeating:
                m_title = tr("Heating Error");
                m_message = dummy.sprintf(qPrintable(tr("DO NOT touch the extruder as it may be very hot (Error %d). Please visit our Support page at Makerbot.com/support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kOutOfFilament:
                m_title = tr("Out of Filament");
                m_message = dummy.sprintf(qPrintable(tr("Please wait while your Smart Extruder unloads any leftover filament. (Warning %d)")), static_cast<int>(m_error), "");
                m_type = FILAMENT_ERROR;
                m_action = CHANGE_FILAMENT;
                break;
            case kNoFilamentLoaded:
                m_title = tr("No Filament");
                m_message = dummy.sprintf(qPrintable(tr("Please load filament before starting your print. (Warning %d)")), static_cast<int>(m_error), "");
                m_type = FILAMENT_ERROR;
                m_action = CHANGE_FILAMENT;
                break;
            case kRecoverableFilamentJam:
                m_title = tr("Temporary Filament Jam");
                m_message = dummy.sprintf(qPrintable(tr("Clearing extruder to resolve temporary filament jam.")), static_cast<int>(m_error), "");
                m_type = FILAMENT_ERROR;
                m_action = ACKNOWLEDGE;
                break;
            case kPrintingNetworkError:
                m_title = tr("Network Error");
                m_message = dummy.sprintf(qPrintable(tr("There was a problem communicating with MakerBot Cloud Services. Please try your print again later. (Warning %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kCloudSlicingError:
                m_title = tr("Slicing Error");
                m_message = dummy.sprintf(qPrintable(tr("Failed to slice your layout for printing. Please try again later. (Warning %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kPrintExtruderMismatch:
                m_title = tr("Print File Error");
                m_message = dummy.sprintf(qPrintable(tr("The selected print was sliced for a %1, but a %2 is attached. Please reslice for a %2. (Error %d)")), static_cast<int>(m_error), "");
                m_messageArgs.push_back("file_tool");
                m_messageArgs.push_back("current_tool");
                m_type = NONE;
                m_action = ACKNOWLEDGE_OR_CONTINUE;
                break;
            case kPrintMachineMismatch:
                m_title = tr("Print File Error");
                m_message = dummy.sprintf(qPrintable(tr("This print file was sliced for a different machine type. Please reslice for the correct printer. (Error %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kPrintVersionMismatch:
                m_title = tr("Print File Error");
                m_message = dummy.sprintf(qPrintable(tr("This print file is not compatible with this firmware version. Please upgrade firmware. (Error %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kPrintRaftDisabled:
                m_title = tr("Print File Error");
                m_message = dummy.sprintf(qPrintable(tr("The selected print was sliced without a raft, but a raft is recommended for this type of printer. Please reslice with a raft. (Error %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE_OR_CONTINUE;
                break;
            case kInsufficientUsbSpace:
                m_message = dummy.sprintf(qPrintable(tr("There is not enough free space on the attached USB drive.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kOperationTimedOut:
                m_message = dummy.sprintf(qPrintable(tr("Internal operation timed out. Please contact Support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kFirmwareUpdateCheckError:
                m_message = dummy.sprintf(qPrintable(tr("Could not check for firmware updates. Please contact Support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kFirmwareDownloadError:
                m_message = dummy.sprintf(qPrintable(tr("Could not download firmware. Please contact Support.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kInternetConnectionError:
                m_message = dummy.sprintf(qPrintable(tr("Could not connect to the Internet.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kPrintingUrlError:
                m_title = tr("Invalid URL");
                m_message = dummy.sprintf(qPrintable(tr("There was a problem downloading the .makerbot file from the URL provided.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kWifiEthernetConnected:
                m_title = tr("Wireless Configuration Error");
                m_message = dummy.sprintf(qPrintable(tr("Wireless configuration cannot proceed while a network cable is plugged in.")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kWifiNoSuchSsid:
                m_title = tr("Wireless Network Not Found");
                m_message = dummy.sprintf(qPrintable(tr("The specified wireless network could not be found (Error %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kWifiPasswordRequired:
                m_title = tr("Wireless Network Error");
                m_message = dummy.sprintf(qPrintable(tr("The specified wireless network requires a password (Error %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kWifiPasswordInvalid:
                m_title = tr("Wireless Network Error");
                m_message = dummy.sprintf(qPrintable(tr("The password specified for the wireless network is invalid (Error %d)")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kWifiSsidRequired:
                m_title = tr("Wireless Network Error");
                m_message = dummy.sprintf(qPrintable(tr("The SSID of the wireless network must be specified  (Error %d).")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            case kWifiGeneralError:
                m_title = tr("Wireless Network Error");
                m_message = dummy.sprintf(qPrintable(tr("There was a problem connecting to the network  (Error %d).")), static_cast<int>(m_error), "");
                m_type = NONE;
                m_action = ACKNOWLEDGE;
                break;
            default:
                m_title = tr("System Error");
                m_message = tr("Oops, we have a problem. Please update your firmware using MakerBot Desktop.");
                break;
        }
    }

    QString m_message;
    TYPE m_type;
    ACTION m_action;
    QString m_title;
    Error m_error;
    MESSAGE_ARGS m_messageArgs;
};

inline bool operator==(const BotError &lhs, const BotError &rhs) {return lhs.error() == rhs.error();}
inline bool operator==(const BotError &lhs, Error rhs) {return lhs.error() == rhs;}
inline bool operator==(Error lhs, const BotError &rhs) {return operator==(rhs, lhs);}
inline bool operator!=(const BotError &lhs, const BotError &rhs) {return !(lhs == rhs);}
inline bool operator!=(const BotError &lhs, Error rhs) {return !(lhs == rhs);}
inline bool operator!=(Error lhs, const BotError &rhs) {return !(lhs == rhs);}

} // namespace

#endif // ERROR_QSTRINGS_TRANSLATEABLE_HH
