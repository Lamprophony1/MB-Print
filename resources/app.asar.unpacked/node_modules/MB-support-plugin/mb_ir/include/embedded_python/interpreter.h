// Copyright 2015 MakerBot Industries

#ifndef INCLUDE_EMBEDDED_PYTHON_INTERPRETER_H_
#define INCLUDE_EMBEDDED_PYTHON_INTERPRETER_H_

#include <string>
#include <memory>

namespace embedded_python {

class Interpreter;

/// Invoke this function to ensure that the python interpreter is
/// initialized and able to import modules from the standard library.
/// It is safe to call this when python is already initialized.
///
/// \param libpath Optional override for the path to this shared library.
///                Only exposed for unit testing puposes.
void EMBEDDED_PYTHON_API initialize(const std::string &libpath="");

/// Grab an opaque reference to the python interpreter.  This can be
/// used to ensure that the python interpreter will not be destructed
/// before other objects have a chance to run their destructors.
std::shared_ptr<Interpreter> EMBEDDED_PYTHON_API get_interpreter_ref();

}  // namespace embedded_python

#endif  // INCLUDE_EMBEDDED_PYTHON_INTERPRETER_H_

