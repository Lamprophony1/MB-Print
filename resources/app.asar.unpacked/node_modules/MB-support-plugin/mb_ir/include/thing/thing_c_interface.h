// Copyright 2017 Makerbot Industries

#ifndef INCLUDE_THING_THING_C_INTERFACE_H_
#define INCLUDE_THING_THING_C_INTERFACE_H_

namespace LibThing {

class Thing;
class Transform;

/// This interface is going to be consumed by python using ctypes. It will allow
/// users to create and modify Things that can then be sliced and toolpathed via
/// Miracle Grue.

extern "C" {
/// create a new, empty thing to add instances to
THING_API Thing* NewThing();

/// add an instance of the mesh at @meshFilePath modified by a @transform to a
/// @thing under @gaggleName, to be printed with the @material.
THING_API void AddInstance(
        Thing* thing, const char* gaggleName, const char* meshFilePath,
        const Transform* transform, const char* material);

/// write @thing out to @filepath
THING_API bool WriteThing(Thing* thing, const char* filepath);

/// create a new @transform using the default constructor for a Transform
THING_API Transform* NewTransform();

/// apply translations, rotations, and scales to a transformation
THING_API void SetTranslation(Transform* transform, float x, float y, float z);
THING_API void SetRotation(
        Transform* transform, float a, float b, float c, float d);
THING_API void SetScale(Transform* transform, float x, float y, float z);

THING_API PyObject* GetBoundingBox(const char* thing_path);
}  // extern c

}  // namespace libthing

#endif  // INCLUDE_THING_THING_C_INTERFACE_H_
