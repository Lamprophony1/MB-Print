'use strict';

const React = require('react');

const DOM = React.DOM;

const FluxComponent = require('eagle-print/views/flux_component');

class HeaderSelectButton extends FluxComponent {
  onSelectClicked() {
    const flux = this.getFlux();
    const project = flux.store('ProjectStore').getProject();
    flux.actions.printer.selectPrinter(project, this.props.printer);
  }

  render() {
    const flux = this.getFlux();
    const i18n = flux.getService('TranslationService');
    const selectedPrinter = flux.store('PrinterStore').getSelectedPrinter();
    const isSelectedPrinter = selectedPrinter && selectedPrinter.getId() === this.props.printer.getId();
    return DOM.div({
      id: 'selectButtonContainer'
    }, DOM.div({
      id: 'selectButton',
      className: isSelectedPrinter ? 'disabled' : undefined,
      onClick: isSelectedPrinter ? undefined : () => this.onSelectClicked()
    }, isSelectedPrinter ? i18n.t('printer_details.selected') : i18n.t('printer_details.select')));
  }

}

HeaderSelectButton.displayName = 'HeaderSelectButton';
HeaderSelectButton.propTypes = {
  printer: React.PropTypes.shape({
    getId: React.PropTypes.func.isRequired
  }).isRequired
};
module.exports = HeaderSelectButton;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlclNlbGVjdEJ1dHRvbi5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJET00iLCJGbHV4Q29tcG9uZW50IiwiSGVhZGVyU2VsZWN0QnV0dG9uIiwib25TZWxlY3RDbGlja2VkIiwiZmx1eCIsImdldEZsdXgiLCJwcm9qZWN0Iiwic3RvcmUiLCJnZXRQcm9qZWN0IiwiYWN0aW9ucyIsInByaW50ZXIiLCJzZWxlY3RQcmludGVyIiwicHJvcHMiLCJyZW5kZXIiLCJpMThuIiwiZ2V0U2VydmljZSIsInNlbGVjdGVkUHJpbnRlciIsImdldFNlbGVjdGVkUHJpbnRlciIsImlzU2VsZWN0ZWRQcmludGVyIiwiZ2V0SWQiLCJkaXYiLCJpZCIsImNsYXNzTmFtZSIsInVuZGVmaW5lZCIsIm9uQ2xpY2siLCJ0IiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzaGFwZSIsImZ1bmMiLCJpc1JlcXVpcmVkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNQyxHQUFHLEdBQUdGLEtBQUssQ0FBQ0UsR0FBbEI7O0FBQ0EsTUFBTUMsYUFBYSxHQUFHRixPQUFPLENBQUMsa0NBQUQsQ0FBN0I7O0FBRUEsTUFBTUcsa0JBQU4sU0FBaUNELGFBQWpDLENBQStDO0FBQzNDRSxFQUFBQSxlQUFlLEdBQUc7QUFDZCxVQUFNQyxJQUFJLEdBQUcsS0FBS0MsT0FBTCxFQUFiO0FBQ0EsVUFBTUMsT0FBTyxHQUFHRixJQUFJLENBQUNHLEtBQUwsQ0FBVyxjQUFYLEVBQTJCQyxVQUEzQixFQUFoQjtBQUNBSixJQUFBQSxJQUFJLENBQUNLLE9BQUwsQ0FBYUMsT0FBYixDQUFxQkMsYUFBckIsQ0FBbUNMLE9BQW5DLEVBQTRDLEtBQUtNLEtBQUwsQ0FBV0YsT0FBdkQ7QUFDSDs7QUFFREcsRUFBQUEsTUFBTSxHQUFHO0FBQ0wsVUFBTVQsSUFBSSxHQUFHLEtBQUtDLE9BQUwsRUFBYjtBQUNBLFVBQU1TLElBQUksR0FBR1YsSUFBSSxDQUFDVyxVQUFMLENBQWdCLG9CQUFoQixDQUFiO0FBRUEsVUFBTUMsZUFBZSxHQUFHWixJQUFJLENBQUNHLEtBQUwsQ0FBVyxjQUFYLEVBQTJCVSxrQkFBM0IsRUFBeEI7QUFDQSxVQUFNQyxpQkFBaUIsR0FBR0YsZUFBZSxJQUFJQSxlQUFlLENBQUNHLEtBQWhCLE9BQTRCLEtBQUtQLEtBQUwsQ0FBV0YsT0FBWCxDQUFtQlMsS0FBbkIsRUFBekU7QUFFQSxXQUFPbkIsR0FBRyxDQUFDb0IsR0FBSixDQUNIO0FBQUVDLE1BQUFBLEVBQUUsRUFBRTtBQUFOLEtBREcsRUFFSHJCLEdBQUcsQ0FBQ29CLEdBQUosQ0FDSTtBQUNJQyxNQUFBQSxFQUFFLEVBQUUsY0FEUjtBQUVJQyxNQUFBQSxTQUFTLEVBQUVKLGlCQUFpQixHQUFHLFVBQUgsR0FBZ0JLLFNBRmhEO0FBR0lDLE1BQUFBLE9BQU8sRUFBRU4saUJBQWlCLEdBQUdLLFNBQUgsR0FBZSxNQUFNLEtBQUtwQixlQUFMO0FBSG5ELEtBREosRUFNSWUsaUJBQWlCLEdBQUdKLElBQUksQ0FBQ1csQ0FBTCxDQUFPLDBCQUFQLENBQUgsR0FBd0NYLElBQUksQ0FBQ1csQ0FBTCxDQUFPLHdCQUFQLENBTjdELENBRkcsQ0FBUDtBQVdIOztBQXpCMEM7O0FBNEIvQ3ZCLGtCQUFrQixDQUFDd0IsV0FBbkIsR0FBaUMsb0JBQWpDO0FBQ0F4QixrQkFBa0IsQ0FBQ3lCLFNBQW5CLEdBQStCO0FBQzNCakIsRUFBQUEsT0FBTyxFQUFFWixLQUFLLENBQUM4QixTQUFOLENBQWdCQyxLQUFoQixDQUFzQjtBQUMzQlYsSUFBQUEsS0FBSyxFQUFFckIsS0FBSyxDQUFDOEIsU0FBTixDQUFnQkUsSUFBaEIsQ0FBcUJDO0FBREQsR0FBdEIsRUFFTkE7QUFId0IsQ0FBL0I7QUFNQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCL0Isa0JBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5jb25zdCBET00gPSBSZWFjdC5ET007XHJcbmNvbnN0IEZsdXhDb21wb25lbnQgPSByZXF1aXJlKCdlYWdsZS1wcmludC92aWV3cy9mbHV4X2NvbXBvbmVudCcpO1xyXG5cclxuY2xhc3MgSGVhZGVyU2VsZWN0QnV0dG9uIGV4dGVuZHMgRmx1eENvbXBvbmVudCB7XHJcbiAgICBvblNlbGVjdENsaWNrZWQoKSB7XHJcbiAgICAgICAgY29uc3QgZmx1eCA9IHRoaXMuZ2V0Rmx1eCgpO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBmbHV4LnN0b3JlKCdQcm9qZWN0U3RvcmUnKS5nZXRQcm9qZWN0KCk7XHJcbiAgICAgICAgZmx1eC5hY3Rpb25zLnByaW50ZXIuc2VsZWN0UHJpbnRlcihwcm9qZWN0LCB0aGlzLnByb3BzLnByaW50ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBmbHV4ID0gdGhpcy5nZXRGbHV4KCk7XHJcbiAgICAgICAgY29uc3QgaTE4biA9IGZsdXguZ2V0U2VydmljZSgnVHJhbnNsYXRpb25TZXJ2aWNlJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUHJpbnRlciA9IGZsdXguc3RvcmUoJ1ByaW50ZXJTdG9yZScpLmdldFNlbGVjdGVkUHJpbnRlcigpO1xyXG4gICAgICAgIGNvbnN0IGlzU2VsZWN0ZWRQcmludGVyID0gc2VsZWN0ZWRQcmludGVyICYmIHNlbGVjdGVkUHJpbnRlci5nZXRJZCgpID09PSB0aGlzLnByb3BzLnByaW50ZXIuZ2V0SWQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIERPTS5kaXYoXHJcbiAgICAgICAgICAgIHsgaWQ6ICdzZWxlY3RCdXR0b25Db250YWluZXInIH0sXHJcbiAgICAgICAgICAgIERPTS5kaXYoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZWxlY3RCdXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogaXNTZWxlY3RlZFByaW50ZXIgPyAnZGlzYWJsZWQnIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGlzU2VsZWN0ZWRQcmludGVyID8gdW5kZWZpbmVkIDogKCkgPT4gdGhpcy5vblNlbGVjdENsaWNrZWQoKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkUHJpbnRlciA/IGkxOG4udCgncHJpbnRlcl9kZXRhaWxzLnNlbGVjdGVkJykgOiBpMThuLnQoJ3ByaW50ZXJfZGV0YWlscy5zZWxlY3QnKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuSGVhZGVyU2VsZWN0QnV0dG9uLmRpc3BsYXlOYW1lID0gJ0hlYWRlclNlbGVjdEJ1dHRvbic7XHJcbkhlYWRlclNlbGVjdEJ1dHRvbi5wcm9wVHlwZXMgPSB7XHJcbiAgICBwcmludGVyOiBSZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xyXG4gICAgICAgIGdldElkOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4gICAgfSkuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gSGVhZGVyU2VsZWN0QnV0dG9uO1xyXG4iXX0=
