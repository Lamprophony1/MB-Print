'use strict';

const React = require('react');

const Button = require('eagle-print/views/ui/button');

const styles = require('./styles');

class WaitableButton extends React.Component {
  constructor(props) {
    super(props);
  }

  _getSpinner() {
    const width = this.props.spinnerDiameter + this.props.strokeWidth;
    const height = width;
    return /*#__PURE__*/React.createElement("div", {
      style: {
        position: 'absolute',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0
      }
    }, /*#__PURE__*/React.createElement("svg", {
      key: "spinner",
      style: {
        zIndex: 1000
      },
      width: width,
      height: height
    }, /*#__PURE__*/React.createElement("circle", {
      stroke: "#fff",
      cx: width / 2,
      cy: height / 2,
      r: this.props.spinnerDiameter / 2,
      strokeWidth: `${this.props.strokeWidth}px`,
      style: styles.dashedCircle(this.props.spinnerDiameter / 2, 2)
    })));
  }

  render() {
    const props = this.props.buttonProps;
    let overrides = {};

    if (this.props.waiting) {
      overrides = {
        classNames: `${props.className} waiting`,
        label: /*#__PURE__*/React.createElement("div", {
          style: {
            position: 'relative'
          }
        }, props.label, this._getSpinner()),
        disabled: true
      };
    }

    return /*#__PURE__*/React.createElement(Button, Object.assign(props, overrides));
  }

}

WaitableButton.displayName = 'WaitableButton';
WaitableButton.propTypes = {
  buttonProps: React.PropTypes.object.isRequired,
  waiting: React.PropTypes.bool.isRequired,
  spinnerDiameter: React.PropTypes.number.isRequired,
  strokeWidth: React.PropTypes.number.isRequired
};
WaitableButton.defaultProps = {
  spinnerDiameter: 15,
  strokeWidth: 3
};
module.exports = WaitableButton;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldhaXRhYmxlQnV0dG9uLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIkJ1dHRvbiIsInN0eWxlcyIsIldhaXRhYmxlQnV0dG9uIiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsIl9nZXRTcGlubmVyIiwid2lkdGgiLCJzcGlubmVyRGlhbWV0ZXIiLCJzdHJva2VXaWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwiekluZGV4IiwiZGFzaGVkQ2lyY2xlIiwicmVuZGVyIiwiYnV0dG9uUHJvcHMiLCJvdmVycmlkZXMiLCJ3YWl0aW5nIiwiY2xhc3NOYW1lcyIsImNsYXNzTmFtZSIsImxhYmVsIiwiZGlzYWJsZWQiLCJPYmplY3QiLCJhc3NpZ24iLCJkaXNwbGF5TmFtZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJib29sIiwibnVtYmVyIiwiZGVmYXVsdFByb3BzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyw2QkFBRCxDQUF0Qjs7QUFFQSxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUVBLE1BQU1HLGNBQU4sU0FBNkJKLEtBQUssQ0FBQ0ssU0FBbkMsQ0FBNkM7QUFDekNDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2YsVUFBTUEsS0FBTjtBQUNIOztBQUVEQyxFQUFBQSxXQUFXLEdBQUc7QUFDVixVQUFNQyxLQUFLLEdBQUcsS0FBS0YsS0FBTCxDQUFXRyxlQUFYLEdBQTZCLEtBQUtILEtBQUwsQ0FBV0ksV0FBdEQ7QUFDQSxVQUFNQyxNQUFNLEdBQUdILEtBQWY7QUFFQSx3QkFDSTtBQUNJLE1BQUEsS0FBSyxFQUFFO0FBQ0hJLFFBQUFBLFFBQVEsRUFBRSxVQURQO0FBRUhDLFFBQUFBLEdBQUcsRUFBRSxDQUZGO0FBR0hDLFFBQUFBLElBQUksRUFBRSxDQUhIO0FBSUhDLFFBQUFBLEtBQUssRUFBRSxDQUpKO0FBS0hDLFFBQUFBLE1BQU0sRUFBRTtBQUxMO0FBRFgsb0JBU0k7QUFDSSxNQUFBLEdBQUcsRUFBQyxTQURSO0FBRUksTUFBQSxLQUFLLEVBQUU7QUFDSEMsUUFBQUEsTUFBTSxFQUFFO0FBREwsT0FGWDtBQUtJLE1BQUEsS0FBSyxFQUFFVCxLQUxYO0FBTUksTUFBQSxNQUFNLEVBQUVHO0FBTlosb0JBUUk7QUFDSSxNQUFBLE1BQU0sRUFBQyxNQURYO0FBRUksTUFBQSxFQUFFLEVBQUVILEtBQUssR0FBRyxDQUZoQjtBQUdJLE1BQUEsRUFBRSxFQUFFRyxNQUFNLEdBQUcsQ0FIakI7QUFJSSxNQUFBLENBQUMsRUFBRSxLQUFLTCxLQUFMLENBQVdHLGVBQVgsR0FBNkIsQ0FKcEM7QUFLSSxNQUFBLFdBQVcsRUFBRyxHQUFFLEtBQUtILEtBQUwsQ0FBV0ksV0FBWSxJQUwzQztBQU1JLE1BQUEsS0FBSyxFQUFFUixNQUFNLENBQUNnQixZQUFQLENBQW9CLEtBQUtaLEtBQUwsQ0FBV0csZUFBWCxHQUE2QixDQUFqRCxFQUFvRCxDQUFwRDtBQU5YLE1BUkosQ0FUSixDQURKO0FBNkJIOztBQUVEVSxFQUFBQSxNQUFNLEdBQUc7QUFDTCxVQUFNYixLQUFLLEdBQUcsS0FBS0EsS0FBTCxDQUFXYyxXQUF6QjtBQUNBLFFBQUlDLFNBQVMsR0FBRyxFQUFoQjs7QUFDQSxRQUFJLEtBQUtmLEtBQUwsQ0FBV2dCLE9BQWYsRUFBd0I7QUFDcEJELE1BQUFBLFNBQVMsR0FBRztBQUNSRSxRQUFBQSxVQUFVLEVBQUcsR0FBRWpCLEtBQUssQ0FBQ2tCLFNBQVUsVUFEdkI7QUFFUkMsUUFBQUEsS0FBSyxlQUNEO0FBQUssVUFBQSxLQUFLLEVBQUU7QUFBRWIsWUFBQUEsUUFBUSxFQUFFO0FBQVo7QUFBWixXQUNLTixLQUFLLENBQUNtQixLQURYLEVBRUssS0FBS2xCLFdBQUwsRUFGTCxDQUhJO0FBUVJtQixRQUFBQSxRQUFRLEVBQUU7QUFSRixPQUFaO0FBVUg7O0FBRUQsd0JBQU8sb0JBQUMsTUFBRCxFQUFZQyxNQUFNLENBQUNDLE1BQVAsQ0FBY3RCLEtBQWQsRUFBcUJlLFNBQXJCLENBQVosQ0FBUDtBQUNIOztBQXpEd0M7O0FBNEQ3Q2xCLGNBQWMsQ0FBQzBCLFdBQWYsR0FBNkIsZ0JBQTdCO0FBQ0ExQixjQUFjLENBQUMyQixTQUFmLEdBQTJCO0FBQ3ZCVixFQUFBQSxXQUFXLEVBQUVyQixLQUFLLENBQUNnQyxTQUFOLENBQWdCQyxNQUFoQixDQUF1QkMsVUFEYjtBQUV2QlgsRUFBQUEsT0FBTyxFQUFFdkIsS0FBSyxDQUFDZ0MsU0FBTixDQUFnQkcsSUFBaEIsQ0FBcUJELFVBRlA7QUFHdkJ4QixFQUFBQSxlQUFlLEVBQUVWLEtBQUssQ0FBQ2dDLFNBQU4sQ0FBZ0JJLE1BQWhCLENBQXVCRixVQUhqQjtBQUl2QnZCLEVBQUFBLFdBQVcsRUFBRVgsS0FBSyxDQUFDZ0MsU0FBTixDQUFnQkksTUFBaEIsQ0FBdUJGO0FBSmIsQ0FBM0I7QUFNQTlCLGNBQWMsQ0FBQ2lDLFlBQWYsR0FBOEI7QUFDMUIzQixFQUFBQSxlQUFlLEVBQUUsRUFEUztBQUUxQkMsRUFBQUEsV0FBVyxFQUFFO0FBRmEsQ0FBOUI7QUFLQTJCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5DLGNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5jb25zdCBCdXR0b24gPSByZXF1aXJlKCdlYWdsZS1wcmludC92aWV3cy91aS9idXR0b24nKTtcclxuXHJcbmNvbnN0IHN0eWxlcyA9IHJlcXVpcmUoJy4vc3R5bGVzJyk7XHJcblxyXG5jbGFzcyBXYWl0YWJsZUJ1dHRvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0U3Bpbm5lcigpIHtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMucHJvcHMuc3Bpbm5lckRpYW1ldGVyICsgdGhpcy5wcm9wcy5zdHJva2VXaWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB3aWR0aDtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PSdzcGlubmVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXt3aWR0aH1cclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT0nI2ZmZidcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3g9e3dpZHRoIC8gMn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3k9e2hlaWdodCAvIDJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI9e3RoaXMucHJvcHMuc3Bpbm5lckRpYW1ldGVyIC8gMn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2Ake3RoaXMucHJvcHMuc3Ryb2tlV2lkdGh9cHhgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLmRhc2hlZENpcmNsZSh0aGlzLnByb3BzLnNwaW5uZXJEaWFtZXRlciAvIDIsIDIpfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzLmJ1dHRvblByb3BzO1xyXG4gICAgICAgIGxldCBvdmVycmlkZXMgPSB7fTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy53YWl0aW5nKSB7XHJcbiAgICAgICAgICAgIG92ZXJyaWRlcyA9IHtcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZXM6IGAke3Byb3BzLmNsYXNzTmFtZX0gd2FpdGluZ2AsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wcy5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuX2dldFNwaW5uZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiA8QnV0dG9uIHsuLi5PYmplY3QuYXNzaWduKHByb3BzLCBvdmVycmlkZXMpfSAvPjtcclxuICAgIH1cclxufVxyXG5cclxuV2FpdGFibGVCdXR0b24uZGlzcGxheU5hbWUgPSAnV2FpdGFibGVCdXR0b24nO1xyXG5XYWl0YWJsZUJ1dHRvbi5wcm9wVHlwZXMgPSB7XHJcbiAgICBidXR0b25Qcm9wczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgd2FpdGluZzogUmVhY3QuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcclxuICAgIHNwaW5uZXJEaWFtZXRlcjogUmVhY3QuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxyXG4gICAgc3Ryb2tlV2lkdGg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcclxufTtcclxuV2FpdGFibGVCdXR0b24uZGVmYXVsdFByb3BzID0ge1xyXG4gICAgc3Bpbm5lckRpYW1ldGVyOiAxNSxcclxuICAgIHN0cm9rZVdpZHRoOiAzLFxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBXYWl0YWJsZUJ1dHRvbjtcclxuIl19
