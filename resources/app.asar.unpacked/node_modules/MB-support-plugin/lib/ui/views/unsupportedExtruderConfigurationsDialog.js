"use strict";

const FluxComponent = require('eagle-print/views/flux_component');

const React = require('react');

class UnsupportedExtruderConfigurationsDialog extends FluxComponent {
  constructor(props, context) {
    super(props, context);
    this.i18n = this.props.i18n;
    this.supportedPairConfigs = this.translateExtruderTypeToPrettier(this.props.supportedConfigs.pairedExtrudersConfigs);
    this.supportedPerExtruderConfigs = this.translateExtruderTypeToPrettier(this.props.supportedConfigs.perExtruderConfigs);
  }

  translateExtruderTypeToPrettier(arr) {
    return arr.map(extruders => extruders.map(extruderId => this.i18n.t(`mb:printSettings.${extruderId}`)));
  }

  convertListToStr(arr, sepStr = 'and') {
    if (arr.length === 1) {
      return arr[0];
    } else if (arr.length === 2) {
      return `${arr[0]} ${sepStr} ${arr[1]}`;
    } else {
      return arr.reduce((res, el, i) => {
        i === arr.length - 1 ? res += `${sepStr} ${el}` : res += `${el}, `;
        return res;
      }, '');
    }
  }

  generateMissingExtruderListItem(index) {
    const msg = this.i18n.t('mb:unsupported_extruder_configurations.missing_extruders', {
      extruderSlot: index + 1,
      supportedExtrudersList: this.convertListToStr(this.supportedPerExtruderConfigs[index], 'or')
    });
    return /*#__PURE__*/React.createElement("li", null, msg);
  }

  generateUnsupportedExtruderListItem() {
    return /*#__PURE__*/React.createElement("li", {
      key: `${this.supportedPairConfigs.join('-')}-mismatched-error`
    }, this.supportedPairConfigs.map((pairConfig, index) => {
      const msg = this.i18n.t('mb:unsupported_extruder_configurations.unsupported_extruders', {
        extruder1: pairConfig[0],
        extruder2: pairConfig[1]
      });
      return index === this.supportedPairConfigs.length - 1 ? /*#__PURE__*/React.createElement("span", null, msg) : /*#__PURE__*/React.createElement("span", null, msg, /*#__PURE__*/React.createElement("br", null));
    }));
  }

  generateMismatchExtruderListItem(index) {
    const supportedExtruders = this.supportedPerExtruderConfigs[index];
    const msg = this.i18n.t('mb:unsupported_extruder_configurations.mismatched_extruders', {
      supportedExtruders: this.convertListToStr(supportedExtruders, 'or'),
      extruderSlot: index + 1
    });
    return /*#__PURE__*/React.createElement("li", null, msg);
  }

  generateListItemsFromErrorType() {
    return this.props.perExtruderErrorType.map((errorType, index) => {
      let result;

      switch (errorType) {
        case 'missing':
          result = this.generateMissingExtruderListItem(index);
          break;

        case 'mismatched':
          result = this.generateMismatchExtruderListItem(index);
          break;

        case 'unsupported':
          result = this.generateUnsupportedExtruderListItem();
          break;

        default:
          result = null;
      }

      return result;
    }).reduce((res, arr) => res.concat(arr), []);
  }

  render() {
    return /*#__PURE__*/React.createElement("ul", null, this.generateListItemsFromErrorType());
  }

}

module.exports = UnsupportedExtruderConfigurationsDialog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVuc3VwcG9ydGVkRXh0cnVkZXJDb25maWd1cmF0aW9uc0RpYWxvZy5qcyJdLCJuYW1lcyI6WyJGbHV4Q29tcG9uZW50IiwicmVxdWlyZSIsIlJlYWN0IiwiVW5zdXBwb3J0ZWRFeHRydWRlckNvbmZpZ3VyYXRpb25zRGlhbG9nIiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImNvbnRleHQiLCJpMThuIiwic3VwcG9ydGVkUGFpckNvbmZpZ3MiLCJ0cmFuc2xhdGVFeHRydWRlclR5cGVUb1ByZXR0aWVyIiwic3VwcG9ydGVkQ29uZmlncyIsInBhaXJlZEV4dHJ1ZGVyc0NvbmZpZ3MiLCJzdXBwb3J0ZWRQZXJFeHRydWRlckNvbmZpZ3MiLCJwZXJFeHRydWRlckNvbmZpZ3MiLCJhcnIiLCJtYXAiLCJleHRydWRlcnMiLCJleHRydWRlcklkIiwidCIsImNvbnZlcnRMaXN0VG9TdHIiLCJzZXBTdHIiLCJsZW5ndGgiLCJyZWR1Y2UiLCJyZXMiLCJlbCIsImkiLCJnZW5lcmF0ZU1pc3NpbmdFeHRydWRlckxpc3RJdGVtIiwiaW5kZXgiLCJtc2ciLCJleHRydWRlclNsb3QiLCJzdXBwb3J0ZWRFeHRydWRlcnNMaXN0IiwiZ2VuZXJhdGVVbnN1cHBvcnRlZEV4dHJ1ZGVyTGlzdEl0ZW0iLCJqb2luIiwicGFpckNvbmZpZyIsImV4dHJ1ZGVyMSIsImV4dHJ1ZGVyMiIsImdlbmVyYXRlTWlzbWF0Y2hFeHRydWRlckxpc3RJdGVtIiwic3VwcG9ydGVkRXh0cnVkZXJzIiwiZ2VuZXJhdGVMaXN0SXRlbXNGcm9tRXJyb3JUeXBlIiwicGVyRXh0cnVkZXJFcnJvclR5cGUiLCJlcnJvclR5cGUiLCJyZXN1bHQiLCJjb25jYXQiLCJyZW5kZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGFBQWEsR0FBR0MsT0FBTyxDQUFDLGtDQUFELENBQTdCOztBQUNBLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBRUEsTUFB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QUFpR3BFTSxNQUFNLENBQUNDLE9BQVAsR0FBaUIxQyx1Q0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBGbHV4Q29tcG9uZW50ID0gcmVxdWlyZSgnZWFnbGUtcHJpbnQvdmlld3MvZmx1eF9jb21wb25lbnQnKTtcclxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xyXG5cclxuY2xhc3MgVW5zdXBwb3J0ZWRFeHRydWRlckNvbmZpZ3VyYXRpb25zRGlhbG9nIGV4dGVuZHMgRmx1eENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmkxOG4gPSB0aGlzLnByb3BzLmkxOG47XHJcbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRQYWlyQ29uZmlncyA9IHRoaXMudHJhbnNsYXRlRXh0cnVkZXJUeXBlVG9QcmV0dGllcihcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zdXBwb3J0ZWRDb25maWdzLnBhaXJlZEV4dHJ1ZGVyc0NvbmZpZ3NcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc3VwcG9ydGVkUGVyRXh0cnVkZXJDb25maWdzID0gdGhpcy50cmFuc2xhdGVFeHRydWRlclR5cGVUb1ByZXR0aWVyKFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnN1cHBvcnRlZENvbmZpZ3MucGVyRXh0cnVkZXJDb25maWdzXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2xhdGVFeHRydWRlclR5cGVUb1ByZXR0aWVyKGFycikge1xyXG4gICAgICAgIHJldHVybiBhcnIubWFwKGV4dHJ1ZGVycyA9PiBleHRydWRlcnMubWFwKGV4dHJ1ZGVySWQgPT4gdGhpcy5pMThuLnQoYG1iOnByaW50U2V0dGluZ3MuJHtleHRydWRlcklkfWApKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29udmVydExpc3RUb1N0cihhcnIsIHNlcFN0ciA9ICdhbmQnKSB7XHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyclswXTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFyci5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke2FyclswXX0gJHtzZXBTdHJ9ICR7YXJyWzFdfWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyci5yZWR1Y2UoKHJlcywgZWwsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGkgPT09IGFyci5sZW5ndGggLSAxID8gKHJlcyArPSBgJHtzZXBTdHJ9ICR7ZWx9YCkgOiAocmVzICs9IGAke2VsfSwgYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9LCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTWlzc2luZ0V4dHJ1ZGVyTGlzdEl0ZW0oaW5kZXgpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSB0aGlzLmkxOG4udCgnbWI6dW5zdXBwb3J0ZWRfZXh0cnVkZXJfY29uZmlndXJhdGlvbnMubWlzc2luZ19leHRydWRlcnMnLCB7XHJcbiAgICAgICAgICAgIGV4dHJ1ZGVyU2xvdDogaW5kZXggKyAxLFxyXG4gICAgICAgICAgICBzdXBwb3J0ZWRFeHRydWRlcnNMaXN0OiB0aGlzLmNvbnZlcnRMaXN0VG9TdHIodGhpcy5zdXBwb3J0ZWRQZXJFeHRydWRlckNvbmZpZ3NbaW5kZXhdLCAnb3InKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIDxsaT57bXNnfTwvbGk+O1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlVW5zdXBwb3J0ZWRFeHRydWRlckxpc3RJdGVtKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxsaSBrZXk9e2Ake3RoaXMuc3VwcG9ydGVkUGFpckNvbmZpZ3Muam9pbignLScpfS1taXNtYXRjaGVkLWVycm9yYH0+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdXBwb3J0ZWRQYWlyQ29uZmlncy5tYXAoKHBhaXJDb25maWcsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5pMThuLnQoJ21iOnVuc3VwcG9ydGVkX2V4dHJ1ZGVyX2NvbmZpZ3VyYXRpb25zLnVuc3VwcG9ydGVkX2V4dHJ1ZGVycycsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cnVkZXIxOiBwYWlyQ29uZmlnWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRydWRlcjI6IHBhaXJDb25maWdbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA9PT0gdGhpcy5zdXBwb3J0ZWRQYWlyQ29uZmlncy5sZW5ndGggLSAxID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bXNnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2d9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTWlzbWF0Y2hFeHRydWRlckxpc3RJdGVtKGluZGV4KSB7XHJcbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkRXh0cnVkZXJzID0gdGhpcy5zdXBwb3J0ZWRQZXJFeHRydWRlckNvbmZpZ3NbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuaTE4bi50KCdtYjp1bnN1cHBvcnRlZF9leHRydWRlcl9jb25maWd1cmF0aW9ucy5taXNtYXRjaGVkX2V4dHJ1ZGVycycsIHtcclxuICAgICAgICAgICAgc3VwcG9ydGVkRXh0cnVkZXJzOiB0aGlzLmNvbnZlcnRMaXN0VG9TdHIoc3VwcG9ydGVkRXh0cnVkZXJzLCAnb3InKSxcclxuICAgICAgICAgICAgZXh0cnVkZXJTbG90OiBpbmRleCArIDEsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiA8bGk+e21zZ308L2xpPjtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUxpc3RJdGVtc0Zyb21FcnJvclR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucGVyRXh0cnVkZXJFcnJvclR5cGVcclxuICAgICAgICAgICAgLm1hcCgoZXJyb3JUeXBlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXJyb3JUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWlzc2luZyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ2VuZXJhdGVNaXNzaW5nRXh0cnVkZXJMaXN0SXRlbShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21pc21hdGNoZWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdlbmVyYXRlTWlzbWF0Y2hFeHRydWRlckxpc3RJdGVtKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5zdXBwb3J0ZWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdlbmVyYXRlVW5zdXBwb3J0ZWRFeHRydWRlckxpc3RJdGVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAucmVkdWNlKChyZXMsIGFycikgPT4gcmVzLmNvbmNhdChhcnIpLCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiA8dWw+e3RoaXMuZ2VuZXJhdGVMaXN0SXRlbXNGcm9tRXJyb3JUeXBlKCl9PC91bD47XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVW5zdXBwb3J0ZWRFeHRydWRlckNvbmZpZ3VyYXRpb25zRGlhbG9nO1xyXG4iXX0=
