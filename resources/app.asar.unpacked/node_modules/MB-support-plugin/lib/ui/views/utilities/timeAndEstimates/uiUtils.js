'use strict';

const {
  darkenColor,
  lightenColor
} = require('../colorManipulator');

const {
  MaterialDefaults
} = require('../../../../constants');

const formatMaterialAmount = (num, fixed) => {
  /**
   * if num starts with 0, truncate to fixed amount WITHOUT rounding & discard leading 0
   * otherwise just truncate & keep the leading whole number
   * javascript numbers ::eelroll::
   **/
  let formattedNumber;
  const numberToString = String(num);
  const re = new RegExp(`^-?\\d+(?:\.\\d{0,${fixed || -1}})?`);

  if (numberToString.indexOf('0') === 0 && numberToString.indexOf('.') === 1) {
    formattedNumber = numberToString.match(re)[0].slice(1);
  } else {
    formattedNumber = numberToString.match(re)[0];
  }

  return formattedNumber;
};

const formatMaterialColor = spool => {
  let remainingColor;
  let neededColor;
  /**
   * note: bot's material shows as primary filament color with darker secondary shade for print estimate
   * 1) convert kaiten's alpha channel value to (0.0 - 1) for opacity
   * 2) reformat that array into a string (for colorManipulor.js)
   * 3) if the colors won't contrast well in UI (black, white, grey, etc) ->
   *    create alternate colors for remaining & needed material display
   * 4) otherwise use material color & give it a darker shade
   *
   * formatted color key:
   *
   * PLA & TOUGH PLA
   * true black: rgba(11,20,17,1)
   * onyx black: rgba(25,25,25,1)
   * slate grey: rgba(43,40,40,1)
   * error(black): rgba(0,0,0,1)
   * true white: rgba(255,255,255,1)
   * stone white: rgba(255,247,233,1)
   * natural pla: rgba(255,247,233,0.85)
   *
   * PET
   * white: rgba(248,248,248,1)
   * black: rgba(24,24,24,1)
   * red: rgba(246,48,62,1)
   * natural pet: rgba(255,255,255,0.85)
   *
   * ABS
   * red: rgba(255, 50, 0, 1)
   *
   * ASA
   * true black: rgba(11,20,17,1)
   *
   * SR30
   * white: rgba(255, 255, 255, 0.85)
   *
   * PVA -> color will pass through without contrast being changed
   * natural pva: rgba(255,212,84,0.60)
   *
   **/
  // 5th gen check

  if (!spool.material_color_rgb) {
    return {
      remainingColor: null,
      neededColor: MaterialDefaults.colors.pla
    };
  }

  const rgbValue = Array.from(spool.material_color_rgb); // if last num of spool color array is 1-99, convert to decimal
  // otherwise convert solid color to 1 & safeguard against faulty chips with 0 value

  if (Number.isInteger(rgbValue[3]) && rgbValue[3] > 0 && rgbValue[3] < 100) {
    rgbValue[3] = `0.${rgbValue[3]}`;
  } else if (rgbValue[3] === 100 || rgbValue[3] === 0) {
    rgbValue[3] = 1;
  }

  const formattedRGB = `rgba(${rgbValue})`; //e.g 'rgba(25,25,25,1)'

  if (formattedRGB === 'rgba(11,20,17,1)' || formattedRGB === 'rgba(25,25,25,1)' || formattedRGB === 'rgba(43,40,40,1)' || formattedRGB === 'rgba(24,24,24,1)' || formattedRGB === 'rgba(0,0,0,1)') {
    remainingColor = formattedRGB;
    neededColor = lightenColor(formattedRGB, 0.55);
  } else if (formattedRGB === 'rgba(255,255,255,1)' || formattedRGB === 'rgba(255,247,233,1)' || formattedRGB === 'rgba(248,248,248,1)' || formattedRGB === 'rgba(255,255,255,0.85)') {
    remainingColor = darkenColor(formattedRGB, 0.2);
    neededColor = darkenColor(remainingColor, 0.25);
  } else {
    remainingColor = formattedRGB;
    neededColor = darkenColor(remainingColor, 0.45);
  }

  return {
    remainingColor,
    neededColor
  };
};

module.exports = {
  formatMaterialAmount,
  formatMaterialColor
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVpVXRpbHMuanMiXSwibmFtZXMiOlsiZGFya2VuQ29sb3IiLCJsaWdodGVuQ29sb3IiLCJyZXF1aXJlIiwiTWF0ZXJpYWxEZWZhdWx0cyIsImZvcm1hdE1hdGVyaWFsQW1vdW50IiwibnVtIiwiZml4ZWQiLCJmb3JtYXR0ZWROdW1iZXIiLCJudW1iZXJUb1N0cmluZyIsIlN0cmluZyIsInJlIiwiUmVnRXhwIiwiaW5kZXhPZiIsIm1hdGNoIiwic2xpY2UiLCJmb3JtYXRNYXRlcmlhbENvbG9yIiwic3Bvb2wiLCJyZW1haW5pbmdDb2xvciIsIm5lZWRlZENvbG9yIiwibWF0ZXJpYWxfY29sb3JfcmdiIiwiY29sb3JzIiwicGxhIiwicmdiVmFsdWUiLCJBcnJheSIsImZyb20iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJmb3JtYXR0ZWRSR0IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNO0FBQUVBLEVBQUFBLFdBQUY7QUFBZUMsRUFBQUE7QUFBZixJQUFnQ0MsT0FBTyxDQUFDLHFCQUFELENBQTdDOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUF1QkQsT0FBTyxDQUFDLHVCQUFELENBQXBDOztBQUVBLE1BQU1FLG9CQUFvQixHQUFHLENBQUNDLEdBQUQsRUFBTUMsS0FBTixLQUFnQjtBQUN6QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0ksTUFBSUMsZUFBSjtBQUNBLFFBQU1DLGNBQWMsR0FBR0MsTUFBTSxDQUFDSixHQUFELENBQTdCO0FBQ0EsUUFBTUssRUFBRSxHQUFHLElBQUlDLE1BQUosQ0FBWSxxQkFBb0JMLEtBQUssSUFBSSxDQUFDLENBQUUsS0FBNUMsQ0FBWDs7QUFFQSxNQUFJRSxjQUFjLENBQUNJLE9BQWYsQ0FBdUIsR0FBdkIsTUFBZ0MsQ0FBaEMsSUFBcUNKLGNBQWMsQ0FBQ0ksT0FBZixDQUF1QixHQUF2QixNQUFnQyxDQUF6RSxFQUE0RTtBQUN4RUwsSUFBQUEsZUFBZSxHQUFHQyxjQUFj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O1xyXG5cclxuY29uc3QgeyBkYXJrZW5Db2xvciwgbGlnaHRlbkNvbG9yIH0gPSByZXF1aXJlKCcuLi9jb2xvck1hbmlwdWxhdG9yJyk7XHJcbmNvbnN0IHsgTWF0ZXJpYWxEZWZhdWx0cyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vY29uc3RhbnRzJyk7XHJcblxyXG5jb25zdCBmb3JtYXRNYXRlcmlhbEFtb3VudCA9IChudW0sIGZpeGVkKSA9PiB7XHJcbiAgICAvKipcclxuICAgICAqIGlmIG51bSBzdGFydHMgd2l0aCAwLCB0cnVuY2F0ZSB0byBmaXhlZCBhbW91bnQgV0lUSE9VVCByb3VuZGluZyAmIGRpc2NhcmQgbGVhZGluZyAwXHJcbiAgICAgKiBvdGhlcndpc2UganVzdCB0cnVuY2F0ZSAmIGtlZXAgdGhlIGxlYWRpbmcgd2hvbGUgbnVtYmVyXHJcbiAgICAgKiBqYXZhc2NyaXB0IG51bWJlcnMgOjplZWxyb2xsOjpcclxuICAgICAqKi9cclxuICAgIGxldCBmb3JtYXR0ZWROdW1iZXI7XHJcbiAgICBjb25zdCBudW1iZXJUb1N0cmluZyA9IFN0cmluZyhudW0pO1xyXG4gICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBeLT9cXFxcZCsoPzpcXC5cXFxcZHswLCR7Zml4ZWQgfHwgLTF9fSk/YCk7XHJcblxyXG4gICAgaWYgKG51bWJlclRvU3RyaW5nLmluZGV4T2YoJzAnKSA9PT0gMCAmJiBudW1iZXJUb1N0cmluZy5pbmRleE9mKCcuJykgPT09IDEpIHtcclxuICAgICAgICBmb3JtYXR0ZWROdW1iZXIgPSBudW1iZXJUb1N0cmluZy5tYXRjaChyZSlbMF0uc2xpY2UoMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm1hdHRlZE51bWJlciA9IG51bWJlclRvU3RyaW5nLm1hdGNoKHJlKVswXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZm9ybWF0dGVkTnVtYmVyO1xyXG59O1xyXG5cclxuY29uc3QgZm9ybWF0TWF0ZXJpYWxDb2xvciA9IHNwb29sID0+IHtcclxuICAgIGxldCByZW1haW5pbmdDb2xvcjtcclxuICAgIGxldCBuZWVkZWRDb2xvcjtcclxuICAgIC8qKlxyXG4gICAgICogbm90ZTogYm90J3MgbWF0ZXJpYWwgc2hvd3MgYXMgcHJpbWFyeSBmaWxhbWVudCBjb2xvciB3aXRoIGRhcmtlciBzZWNvbmRhcnkgc2hhZGUgZm9yIHByaW50IGVzdGltYXRlXHJcbiAgICAgKiAxKSBjb252ZXJ0IGthaXRlbidzIGFscGhhIGNoYW5uZWwgdmFsdWUgdG8gKDAuMCAtIDEpIGZvciBvcGFjaXR5XHJcbiAgICAgKiAyKSByZWZvcm1hdCB0aGF0IGFycmF5IGludG8gYSBzdHJpbmcgKGZvciBjb2xvck1hbmlwdWxvci5qcylcclxuICAgICAqIDMpIGlmIHRoZSBjb2xvcnMgd29uJ3QgY29udHJhc3Qgd2VsbCBpbiBVSSAoYmxhY2ssIHdoaXRlLCBncmV5LCBldGMpIC0+XHJcbiAgICAgKiAgICBjcmVhdGUgYWx0ZXJuYXRlIGNvbG9ycyBmb3IgcmVtYWluaW5nICYgbmVlZGVkIG1hdGVyaWFsIGRpc3BsYXlcclxuICAgICAqIDQpIG90aGVyd2lzZSB1c2UgbWF0ZXJpYWwgY29sb3IgJiBnaXZlIGl0IGEgZGFya2VyIHNoYWRlXHJcbiAgICAgKlxyXG4gICAgICogZm9ybWF0dGVkIGNvbG9yIGtleTpcclxuICAgICAqXHJcbiAgICAgKiBQTEEgJiBUT1VHSCBQTEFcclxuICAgICAqIHRydWUgYmxhY2s6IHJnYmEoMTEsMjAsMTcsMSlcclxuICAgICAqIG9ueXggYmxhY2s6IHJnYmEoMjUsMjUsMjUsMSlcclxuICAgICAqIHNsYXRlIGdyZXk6IHJnYmEoNDMsNDAsNDAsMSlcclxuICAgICAqIGVycm9yKGJsYWNrKTogcmdiYSgwLDAsMCwxKVxyXG4gICAgICogdHJ1ZSB3aGl0ZTogcmdiYSgyNTUsMjU1LDI1NSwxKVxyXG4gICAgICogc3RvbmUgd2hpdGU6IHJnYmEoMjU1LDI0NywyMzMsMSlcclxuICAgICAqIG5hdHVyYWwgcGxhOiByZ2JhKDI1NSwyNDcsMjMzLDAuODUpXHJcbiAgICAgKlxyXG4gICAgICogUEVUXHJcbiAgICAgKiB3aGl0ZTogcmdiYSgyNDgsMjQ4LDI0OCwxKVxyXG4gICAgICogYmxhY2s6IHJnYmEoMjQsMjQsMjQsMSlcclxuICAgICAqIHJlZDogcmdiYSgyNDYsNDgsNjIsMSlcclxuICAgICAqIG5hdHVyYWwgcGV0OiByZ2JhKDI1NSwyNTUsMjU1LDAuODUpXHJcbiAgICAgKlxyXG4gICAgICogQUJTXHJcbiAgICAgKiByZWQ6IHJnYmEoMjU1LCA1MCwgMCwgMSlcclxuICAgICAqXHJcbiAgICAgKiBBU0FcclxuICAgICAqIHRydWUgYmxhY2s6IHJnYmEoMTEsMjAsMTcsMSlcclxuICAgICAqXHJcbiAgICAgKiBTUjMwXHJcbiAgICAgKiB3aGl0ZTogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg1KVxyXG4gICAgICpcclxuICAgICAqIFBWQSAtPiBjb2xvciB3aWxsIHBhc3MgdGhyb3VnaCB3aXRob3V0IGNvbnRyYXN0IGJlaW5nIGNoYW5nZWRcclxuICAgICAqIG5hdHVyYWwgcHZhOiByZ2JhKDI1NSwyMTIsODQsMC42MClcclxuICAgICAqXHJcbiAgICAgKiovXHJcblxyXG4gICAgLy8gNXRoIGdlbiBjaGVja1xyXG4gICAgaWYgKCFzcG9vbC5tYXRlcmlhbF9jb2xvcl9yZ2IpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZW1haW5pbmdDb2xvcjogbnVsbCxcclxuICAgICAgICAgICAgbmVlZGVkQ29sb3I6IE1hdGVyaWFsRGVmYXVsdHMuY29sb3JzLnBsYSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJnYlZhbHVlID0gQXJyYXkuZnJvbShzcG9vbC5tYXRlcmlhbF9jb2xvcl9yZ2IpO1xyXG5cclxuICAgIC8vIGlmIGxhc3QgbnVtIG9mIHNwb29sIGNvbG9yIGFycmF5IGlzIDEtOTksIGNvbnZlcnQgdG8gZGVjaW1hbFxyXG4gICAgLy8gb3RoZXJ3aXNlIGNvbnZlcnQgc29saWQgY29sb3IgdG8gMSAmIHNhZmVndWFyZCBhZ2FpbnN0IGZhdWx0eSBjaGlwcyB3aXRoIDAgdmFsdWVcclxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHJnYlZhbHVlWzNdKSAmJiByZ2JWYWx1ZVszXSA+IDAgJiYgcmdiVmFsdWVbM10gPCAxMDApIHtcclxuICAgICAgICByZ2JWYWx1ZVszXSA9IGAwLiR7cmdiVmFsdWVbM119YDtcclxuICAgIH0gZWxzZSBpZiAocmdiVmFsdWVbM10gPT09IDEwMCB8fCByZ2JWYWx1ZVszXSA9PT0gMCkge1xyXG4gICAgICAgIHJnYlZhbHVlWzNdID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtYXR0ZWRSR0IgPSBgcmdiYSgke3JnYlZhbHVlfSlgOyAvL2UuZyAncmdiYSgyNSwyNSwyNSwxKSdcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgICAgZm9ybWF0dGVkUkdCID09PSAncmdiYSgxMSwyMCwxNywxKScgfHxcclxuICAgICAgICBmb3JtYXR0ZWRSR0IgPT09ICdyZ2JhKDI1LDI1LDI1LDEpJyB8fFxyXG4gICAgICAgIGZvcm1hdHRlZFJHQiA9PT0gJ3JnYmEoNDMsNDAsNDAsMSknIHx8XHJcbiAgICAgICAgZm9ybWF0dGVkUkdCID09PSAncmdiYSgyNCwyNCwyNCwxKScgfHxcclxuICAgICAgICBmb3JtYXR0ZWRSR0IgPT09ICdyZ2JhKDAsMCwwLDEpJ1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmVtYWluaW5nQ29sb3IgPSBmb3JtYXR0ZWRSR0I7XHJcbiAgICAgICAgbmVlZGVkQ29sb3IgPSBsaWdodGVuQ29sb3IoZm9ybWF0dGVkUkdCLCAwLjU1KTtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgZm9ybWF0dGVkUkdCID09PSAncmdiYSgyNTUsMjU1LDI1NSwxKScgfHxcclxuICAgICAgICBmb3JtYXR0ZWRSR0IgPT09ICdyZ2JhKDI1NSwyNDcsMjMzLDEpJyB8fFxyXG4gICAgICAgIGZvcm1hdHRlZFJHQiA9PT0gJ3JnYmEoMjQ4LDI0OCwyNDgsMSknIHx8XHJcbiAgICAgICAgZm9ybWF0dGVkUkdCID09PSAncmdiYSgyNTUsMjU1LDI1NSwwLjg1KSdcclxuICAgICkge1xyXG4gICAgICAgIHJlbWFpbmluZ0NvbG9yID0gZGFya2VuQ29sb3IoZm9ybWF0dGVkUkdCLCAwLjIpO1xyXG4gICAgICAgIG5lZWRlZENvbG9yID0gZGFya2VuQ29sb3IocmVtYWluaW5nQ29sb3IsIDAuMjUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZW1haW5pbmdDb2xvciA9IGZvcm1hdHRlZFJHQjtcclxuICAgICAgICBuZWVkZWRDb2xvciA9IGRhcmtlbkNvbG9yKHJlbWFpbmluZ0NvbG9yLCAwLjQ1KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlbWFpbmluZ0NvbG9yLFxyXG4gICAgICAgIG5lZWRlZENvbG9yLFxyXG4gICAgfTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZm9ybWF0TWF0ZXJpYWxBbW91bnQsXHJcbiAgICBmb3JtYXRNYXRlcmlhbENvbG9yLFxyXG59O1xyXG4iXX0=
