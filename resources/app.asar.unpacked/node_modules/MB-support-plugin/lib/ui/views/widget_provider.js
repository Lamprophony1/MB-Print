'use strict';

const WidgetProvider = require('eagle-print').views.widget.WidgetProvider;

const WidgetDescriptor = require('eagle-print').views.widget.WidgetDescriptor;

const PrinterUtilityPanel = require('./utilities/PrinterUtilityPanel');

const PrinterDetailsPanel = require('./PrinterDetailsPanel');

const PrintButton = require('./printButton');

const PrintEstimates = require('./estimates');

const PrintProgressBadge = require('./printProgressBadge');

const PrintSettingsPanel = require('./printSettings/printSettingsPanel');

const MBAccountSidebarWidget = require('./mb_account_sidebar_widget');

const MBLogosPanel = require('./mbLogosPanel');

const PrinterConnectionIcon = require('./printerConnectionIcon');

class MBWidgetProvider extends WidgetProvider {
  constructor() {
    super();
  }
  /** @override */


  getHandlers() {
    return {
      'printer.details': 'onPrinterDetails',
      'printer.details.utilities': 'onPrinterDetailsUtilities',
      'print.button': 'onPrintButton',
      'print.estimates': 'onPrintEstimates',
      'printer.badge': 'onPrinterBadge',
      'printer.connectionIcon': 'onPrinterConnectionIcon',
      'properties.toolbar.materials': 'onPrintSettings',
      'sidebar.items': 'getSidebarWidget',
      'sidebar.logo': 'onMBLogosPanel'
    };
  }

  onMBLogosPanel(props) {
    return new WidgetDescriptor({
      widgetClass: MBLogosPanel
    });
  }

  getSidebarWidget(props) {
    return new WidgetDescriptor({
      groupItemId: 'cloud_widget',
      groupItemOrder: 100,
      widgetClass: MBAccountSidebarWidget
    });
  }

  onPrintSettings(props) {
    if (props.printer) {
      return new WidgetDescriptor({
        widgetClass: PrintSettingsPanel
      });
    }
  }

  onPrinterConnectionIcon(props) {
    if (props.printer) {
      return new WidgetDescriptor({
        widgetClass: PrinterConnectionIcon
      });
    }
  }

  onPrinterBadge(props) {
    if (props.printer) {
      return new WidgetDescriptor({
        widgetClass: PrintProgressBadge
      });
    }
  }

  onPrinterDetails(props) {
    if (props.printer) {
      return new WidgetDescriptor({
        widgetClass: PrinterDetailsPanel
      });
    }
  }

  onPrinterDetailsUtilities(props) {
    if (props.printer) {
      return new WidgetDescriptor({
        widgetClass: PrinterUtilityPanel
      });
    }
  }

  onPrintButton(props) {
    if (props.printer) {
      return new WidgetDescriptor({
        widgetClass: PrintButton
      });
    }
  }

  onPrintEstimates(props) {
    return new WidgetDescriptor({
      widgetClass: PrintEstimates
    });
  }

}

module.exports = MBWidgetProvider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndpZGdldF9wcm92aWRlci5qcyJdLCJuYW1lcyI6WyJXaWRnZXRQcm92aWRlciIsInJlcXVpcmUiLCJ2aWV3cyIsIndpZGdldCIsIldpZGdldERlc2NyaXB0b3IiLCJQcmludGVyVXRpbGl0eVBhbmVsIiwiUHJpbnRlckRldGFpbHNQYW5lbCIsIlByaW50QnV0dG9uIiwiUHJpbnRFc3RpbWF0ZXMiLCJQcmludFByb2dyZXNzQmFkZ2UiLCJQcmludFNldHRpbmdzUGFuZWwiLCJNQkFjY291bnRTaWRlYmFyV2lkZ2V0IiwiTUJMb2dvc1BhbmVsIiwiUHJpbnRlckNvbm5lY3Rpb25JY29uIiwiTUJXaWRnZXRQcm92aWRlciIsImNvbnN0cnVjdG9yIiwiZ2V0SGFuZGxlcnMiLCJvbk1CTG9nb3NQYW5lbCIsInByb3BzIiwid2lkZ2V0Q2xhc3MiLCJnZXRTaWRlYmFyV2lkZ2V0IiwiZ3JvdXBJdGVtSWQiLCJncm91cEl0ZW1PcmRlciIsIm9uUHJpbnRTZXR0aW5ncyIsInByaW50ZXIiLCJvblByaW50ZXJDb25uZWN0aW9uSWNvbiIsIm9uUHJpbnRlckJhZGdlIiwib25QcmludGVyRGV0YWlscyIsIm9uUHJpbnRlckRldGFpbHNVdGlsaXRpZXMiLCJvblByaW50QnV0dG9uIiwib25QcmludEVzdGltYXRlcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU1BLGNBQWMsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBUCxDQUF1QkMsS0FBdkIsQ0FBNkJDLE1BQTdCLENBQW9DSCxjQUEzRDs7QUFDQSxNQUFNSSxnQkFBZ0IsR0FBR0gsT0FBTyxDQUFDLGFBQUQsQ0FBUCxDQUF1QkMsS0FBdkIsQ0FBNkJDLE1BQTdCLENBQW9DQyxnQkFBN0Q7O0FBRUEsTUFBTUMsbUJBQW1CLEdBQUdKLE9BQU8sQ0FBQyxpQ0FBRCxDQUFuQzs7QUFDQSxNQUFNSyxtQkFBbUIsR0FBR0wsT0FBTyxDQUFDLHVCQUFELENBQW5DOztBQUNBLE1BQU1NLFdB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V0FBTyxJQUFJZCxnQkFBSixDQUFxQjtBQUN4QmUsTUFBQUEsV0FBVyxFQUFFWDtBQURXLEtBQXJCLENBQVA7QUFHSDs7QUFyRnlDOztBQXdGOUN1QixNQUFNLENBQUNDLE9BQVAsR0FBaUJsQixnQkFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCBXaWRnZXRQcm92aWRlciA9IHJlcXVpcmUoJ2VhZ2xlLXByaW50Jykudmlld3Mud2lkZ2V0LldpZGdldFByb3ZpZGVyO1xyXG5jb25zdCBXaWRnZXREZXNjcmlwdG9yID0gcmVxdWlyZSgnZWFnbGUtcHJpbnQnKS52aWV3cy53aWRnZXQuV2lkZ2V0RGVzY3JpcHRvcjtcclxuXHJcbmNvbnN0IFByaW50ZXJVdGlsaXR5UGFuZWwgPSByZXF1aXJlKCcuL3V0aWxpdGllcy9QcmludGVyVXRpbGl0eVBhbmVsJyk7XHJcbmNvbnN0IFByaW50ZXJEZXRhaWxzUGFuZWwgPSByZXF1aXJlKCcuL1ByaW50ZXJEZXRhaWxzUGFuZWwnKTtcclxuY29uc3QgUHJpbnRCdXR0b24gPSByZXF1aXJlKCcuL3ByaW50QnV0dG9uJyk7XHJcbmNvbnN0IFByaW50RXN0aW1hdGVzID0gcmVxdWlyZSgnLi9lc3RpbWF0ZXMnKTtcclxuY29uc3QgUHJpbnRQcm9ncmVzc0JhZGdlID0gcmVxdWlyZSgnLi9wcmludFByb2dyZXNzQmFkZ2UnKTtcclxuY29uc3QgUHJpbnRTZXR0aW5nc1BhbmVsID0gcmVxdWlyZSgnLi9wcmludFNldHRpbmdzL3ByaW50U2V0dGluZ3NQYW5lbCcpO1xyXG5jb25zdCBNQkFjY291bnRTaWRlYmFyV2lkZ2V0ID0gcmVxdWlyZSgnLi9tYl9hY2NvdW50X3NpZGViYXJfd2lkZ2V0Jyk7XHJcbmNvbnN0IE1CTG9nb3NQYW5lbCA9IHJlcXVpcmUoJy4vbWJMb2dvc1BhbmVsJyk7XHJcbmNvbnN0IFByaW50ZXJDb25uZWN0aW9uSWNvbiA9IHJlcXVpcmUoJy4vcHJpbnRlckNvbm5lY3Rpb25JY29uJyk7XHJcblxyXG5jbGFzcyBNQldpZGdldFByb3ZpZGVyIGV4dGVuZHMgV2lkZ2V0UHJvdmlkZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBnZXRIYW5kbGVycygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAncHJpbnRlci5kZXRhaWxzJzogJ29uUHJpbnRlckRldGFpbHMnLFxyXG4gICAgICAgICAgICAncHJpbnRlci5kZXRhaWxzLnV0aWxpdGllcyc6ICdvblByaW50ZXJEZXRhaWxzVXRpbGl0aWVzJyxcclxuICAgICAgICAgICAgJ3ByaW50LmJ1dHRvbic6ICdvblByaW50QnV0dG9uJyxcclxuICAgICAgICAgICAgJ3ByaW50LmVzdGltYXRlcyc6ICdvblByaW50RXN0aW1hdGVzJyxcclxuICAgICAgICAgICAgJ3ByaW50ZXIuYmFkZ2UnOiAnb25QcmludGVyQmFkZ2UnLFxyXG4gICAgICAgICAgICAncHJpbnRlci5jb25uZWN0aW9uSWNvbic6ICdvblByaW50ZXJDb25uZWN0aW9uSWNvbicsXHJcbiAgICAgICAgICAgICdwcm9wZXJ0aWVzLnRvb2xiYXIubWF0ZXJpYWxzJzogJ29uUHJpbnRTZXR0aW5ncycsXHJcbiAgICAgICAgICAgICdzaWRlYmFyLml0ZW1zJzogJ2dldFNpZGViYXJXaWRnZXQnLFxyXG4gICAgICAgICAgICAnc2lkZWJhci5sb2dvJzogJ29uTUJMb2dvc1BhbmVsJyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIG9uTUJMb2dvc1BhbmVsKHByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBXaWRnZXREZXNjcmlwdG9yKHtcclxuICAgICAgICAgICAgd2lkZ2V0Q2xhc3M6IE1CTG9nb3NQYW5lbCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTaWRlYmFyV2lkZ2V0KHByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBXaWRnZXREZXNjcmlwdG9yKHtcclxuICAgICAgICAgICAgZ3JvdXBJdGVtSWQ6ICdjbG91ZF93aWRnZXQnLFxyXG4gICAgICAgICAgICBncm91cEl0ZW1PcmRlcjogMTAwLFxyXG4gICAgICAgICAgICB3aWRnZXRDbGFzczogTUJBY2NvdW50U2lkZWJhcldpZGdldCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblByaW50U2V0dGluZ3MocHJvcHMpIHtcclxuICAgICAgICBpZiAocHJvcHMucHJpbnRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdpZGdldERlc2NyaXB0b3Ioe1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0Q2xhc3M6IFByaW50U2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uUHJpbnRlckNvbm5lY3Rpb25JY29uKHByb3BzKSB7XHJcbiAgICAgICAgaWYgKHByb3BzLnByaW50ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXaWRnZXREZXNjcmlwdG9yKHtcclxuICAgICAgICAgICAgICAgIHdpZGdldENsYXNzOiBQcmludGVyQ29ubmVjdGlvbkljb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblByaW50ZXJCYWRnZShwcm9wcykge1xyXG4gICAgICAgIGlmIChwcm9wcy5wcmludGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2lkZ2V0RGVzY3JpcHRvcih7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRDbGFzczogUHJpbnRQcm9ncmVzc0JhZGdlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25QcmludGVyRGV0YWlscyhwcm9wcykge1xyXG4gICAgICAgIGlmIChwcm9wcy5wcmludGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2lkZ2V0RGVzY3JpcHRvcih7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRDbGFzczogUHJpbnRlckRldGFpbHNQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uUHJpbnRlckRldGFpbHNVdGlsaXRpZXMocHJvcHMpIHtcclxuICAgICAgICBpZiAocHJvcHMucHJpbnRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdpZGdldERlc2NyaXB0b3Ioe1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0Q2xhc3M6IFByaW50ZXJVdGlsaXR5UGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblByaW50QnV0dG9uKHByb3BzKSB7XHJcbiAgICAgICAgaWYgKHByb3BzLnByaW50ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXaWRnZXREZXNjcmlwdG9yKHtcclxuICAgICAgICAgICAgICAgIHdpZGdldENsYXNzOiBQcmludEJ1dHRvbixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25QcmludEVzdGltYXRlcyhwcm9wcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgV2lkZ2V0RGVzY3JpcHRvcih7XHJcbiAgICAgICAgICAgIHdpZGdldENsYXNzOiBQcmludEVzdGltYXRlcyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNQldpZGdldFByb3ZpZGVyO1xyXG4iXX0=
