'use strict';

const FluxComponent = require('eagle-print/views/flux_component');

const React = require('react');

const ce = React.createElement;
const DOM = React.DOM;

const Button = require('eagle-print/views/ui/button');

class EETermsAndConditionsDialog extends FluxComponent {
  constructor(props, context) {
    super(props, context);
    this.i18n = this.getFlux().getService('TranslationService');
    this.loggingService = this.getFlux().getService('LoggingService');
    this.modalService = this.getFlux().getService('ModalService');
    this.configService = this.getFlux().getService('ConfigService');
  }

  close() {
    this.configService.set('eeTermsSeen', true);
    this.modalService.hide();
  }

  renderConfirmButton() {
    return ce(Button, {
      className: 'termsAcceptButton',
      label: this.i18n.t('mb:ee_terms_and_conditions.accept_button'),
      onClick: this.close.bind(this)
    });
  }

  render() {
    return DOM.div({
      className: 'terms-and-conditions-modal experimental-extruder'
    }, DOM.p({
      className: 'terms-and-conditions-text',
      dangerouslySetInnerHTML: {
        __html: this.i18n.t('mb:ee_terms_and_conditions.text')
      }
    }), DOM.div({}), this.renderConfirmButton());
  }

}

module.exports = EETermsAndConditionsDialog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVlVGVybXNBbmRDb25kaXRpb25zRGlhbG9nLmpzIl0sIm5hbWVzIjpbIkZsdXhDb21wb25lbnQiLCJyZXF1aXJlIiwiUmVhY3QiLCJjZSIsImNyZWF0ZUVsZW1lbnQiLCJET00iLCJCdXR0b24iLCJFRVRlcm1zQW5kQ29uZGl0aW9uc0RpYWxvZyIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJjb250ZXh0IiwiaTE4biIsImdldEZsdXgiLCJnZXRTZXJ2aWNlIiwibG9nZ2luZ1NlcnZpY2UiLCJtb2RhbFNlcnZpY2UiLCJjb25maWdTZXJ2aWNlIiwiY2xvc2UiLCJzZXQiLCJoaWRlIiwicmVuZGVyQ29uZmlybUJ1dHRvbiIsImNsYXNzTmFtZSIsImxhYmVsIiwidCIsIm9uQ2xpY2siLCJiaW5kIiwicmVuZGVyIiwiZGl2IiwicCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxPQUFPLENBQUMsa0NBQUQsQ0FBN0I7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNRSxFQUFFLEdBQUdELEtBQUssQ0FBQ0UsYUFBakI7QUFDQSxNQUFNQyxHQUFHLEdBQUdILEtBQUssQ0FBQ0csR0FBbEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHTCxPQUFPLENBQUMsNkJBQUQsQ0FBdEI7O0FBRUEsTUFBTU0sMEJBQU4sU0FBeUNQLGFBQXpDLENBQXVEO0FBQ25EUSxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBUUMsT0FBUixFQUFpQjtBQUN4QixVQUFNRCxLQUFOLEVBQWFDLE9BQWI7QUFDQSxTQUFLQyxJQUFMLEdBQVksS0FBS0MsT0FBTCxHQUFlQyxVQUFmLENBQTBCLG9CQUExQixDQUFaO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixLQUFLRixPQUFMLEdBQWVDLFVBQWYsQ0FBMEIsZ0JBQTFCLENBQXRCO0FBQ0EsU0FBS0UsWUFBTCxHQUFvQixLQUFLSCxPQUFMLEdBQWVDLFVBQWYsQ0FBMEIsY0FBMUIsQ0FBcEI7QUFDQSxTQUFLRyxhQUFMLEdBQXFCLEtBQUtKLE9BQUwsR0FBZUMsVUFBZixDQUEwQixlQUExQixDQUFyQjtBQUNIOztBQUVESSxFQUFBQSxLQUFLLEdBQUc7QUFDSixTQUFLRCxhQUFMLENBQW1CRSxHQUFuQixDQUF1QixhQUF2QixFQUFzQyxJQUF0QztBQUNBLFNBQUtILFlBQUwsQ0FBa0JJLElBQWxCO0FBQ0g7O0FBRURDLEVBQUFBLG1CQUFtQixHQUFHO0FBQ2xCLFdBQU9qQixFQUFFLENBQUNHLE1BQUQsRUFBUztBQUNkZSxNQUFBQSxTQUFTLEVBQUUsbUJBREc7QUFFZEMsTUFBQUEsS0FBSyxFQUFFLEtBQUtYLElBQUwsQ0FBVVksQ0FBVixDQUFZLDBDQUFaLENBRk87QUFHZEMsTUFBQUEsT0FBTyxFQUFFLEtBQUtQLEtBQUwsQ0FBV1EsSUFBWCxDQUFnQixJQUFoQjtBQUhLLEtBQVQsQ0FBVDtBQUtIOztBQUVEQyxFQUFBQSxNQUFNLEdBQUc7QUFDTCxXQUFPckIsR0FBRyxDQUFDc0IsR0FBSixDQUNIO0FBQUVOLE1BQUFBLFNBQVMsRUFBRTtBQUFiLEtBREcsRUFFSGhCLEdBQUcsQ0FBQ3VCLENBQUosQ0FBTTtBQUNGUCxNQUFBQSxTQUFTLEVBQUUsMkJBRFQ7QUFFRlEsTUFBQUEsdUJBQXVCLEVBQUU7QUFDckJDLFFBQUFBLE1BQU0sRUFBRSxLQUFLbkIsSUFBTCxDQUFVWSxDQUFWLENBQVksaUNBQVo7QUFEYTtBQUZ2QixLQUFOLENBRkcsRUFRSGxCLEdBQUcsQ0FBQ3NCLEdBQUosQ0FBUSxFQUFSLENBUkcsRUFTSCxLQUFLUCxtQkFBTCxFQVRHLENBQVA7QUFXSDs7QUFsQ2tEOztBQXFDdkRXLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnpCLDBCQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmNvbnN0IEZsdXhDb21wb25lbnQgPSByZXF1aXJlKCdlYWdsZS1wcmludC92aWV3cy9mbHV4X2NvbXBvbmVudCcpO1xyXG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XHJcbmNvbnN0IGNlID0gUmVhY3QuY3JlYXRlRWxlbWVudDtcclxuY29uc3QgRE9NID0gUmVhY3QuRE9NO1xyXG5jb25zdCBCdXR0b24gPSByZXF1aXJlKCdlYWdsZS1wcmludC92aWV3cy91aS9idXR0b24nKTtcclxuXHJcbmNsYXNzIEVFVGVybXNBbmRDb25kaXRpb25zRGlhbG9nIGV4dGVuZHMgRmx1eENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmkxOG4gPSB0aGlzLmdldEZsdXgoKS5nZXRTZXJ2aWNlKCdUcmFuc2xhdGlvblNlcnZpY2UnKTtcclxuICAgICAgICB0aGlzLmxvZ2dpbmdTZXJ2aWNlID0gdGhpcy5nZXRGbHV4KCkuZ2V0U2VydmljZSgnTG9nZ2luZ1NlcnZpY2UnKTtcclxuICAgICAgICB0aGlzLm1vZGFsU2VydmljZSA9IHRoaXMuZ2V0Rmx1eCgpLmdldFNlcnZpY2UoJ01vZGFsU2VydmljZScpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnU2VydmljZSA9IHRoaXMuZ2V0Rmx1eCgpLmdldFNlcnZpY2UoJ0NvbmZpZ1NlcnZpY2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ1NlcnZpY2Uuc2V0KCdlZVRlcm1zU2VlbicsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubW9kYWxTZXJ2aWNlLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJDb25maXJtQnV0dG9uKCkge1xyXG4gICAgICAgIHJldHVybiBjZShCdXR0b24sIHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiAndGVybXNBY2NlcHRCdXR0b24nLFxyXG4gICAgICAgICAgICBsYWJlbDogdGhpcy5pMThuLnQoJ21iOmVlX3Rlcm1zX2FuZF9jb25kaXRpb25zLmFjY2VwdF9idXR0b24nKSxcclxuICAgICAgICAgICAgb25DbGljazogdGhpcy5jbG9zZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gRE9NLmRpdihcclxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICd0ZXJtcy1hbmQtY29uZGl0aW9ucy1tb2RhbCBleHBlcmltZW50YWwtZXh0cnVkZXInIH0sXHJcbiAgICAgICAgICAgIERPTS5wKHtcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Rlcm1zLWFuZC1jb25kaXRpb25zLXRleHQnLFxyXG4gICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcclxuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IHRoaXMuaTE4bi50KCdtYjplZV90ZXJtc19hbmRfY29uZGl0aW9ucy50ZXh0JyksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgRE9NLmRpdih7fSksXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ29uZmlybUJ1dHRvbigpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBFRVRlcm1zQW5kQ29uZGl0aW9uc0RpYWxvZztcclxuIl19
